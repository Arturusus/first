Рабочий код на языке программирования Python:

def shell_sort(arr):
    # Определим первоначальную величину шага (gap) как половину длины массива
    gap = len(arr) // 2
    
    # Пока шаг больше нуля, будем продолжать сортировку
    while gap > 0:
        # Сравниваем элементы, находящиеся на расстоянии step друг от друга
        for i in range(gap, len(arr)):
            current_value = arr[i]  # Текущий элемент
            position = i  # Его текущая позиция
            
            # Если элемент меньше элемента, находящегося на distance (шаге) впереди,
            # сдвигаем элементы вперед, пока не найдем правильную позицию
            while position >= gap and arr[position - gap] > current_value:
                arr[position] = arr[position - gap]  # Сдвигаем элемент вперед
                position -= gap  # Сокращаем расстояние на величину шага
            
            # Ставим текущий элемент на его итоговую позицию
            arr[position] = current_value
        
        # Уменьшаем шаг вдвое
        gap //= 2

# Пример использования
if __name__ == "__main__":
    # Создаем тестовый массив
    my_list = [64, 34, 25, 12, 22, 11, 90]
    
    # Выводим исходный массив
    print("Исходный массив:")
    print(my_list)
    
    # Вызываем функцию сортировки Шелла
    shell_sort(my_list)
    
    # Выводим отсортированный массив
    print("\nОтсортированный массив:")
    print(my_list)

Результат работы программы:
Исходный массив:
[64, 34, 25, 12, 22, 11, 90]
Отсортированный массив:
[11, 12, 22, 25, 34, 64, 90]
